<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSC 2027 Study OS | Jiyam Vaiya</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* মডারেট কালার প্যালেট - ডার্কও না, লাইটও না */
            --primary: #4f46e5;
            --accent: #0ea5e9;
            --bg-color: #e2e8f0; /* হালকা নীলচে ধূসর */
            --card-bg: #f8fafc;
            --text-dark: #1e293b;
            --text-muted: #475569;
            --success: #10b981;
            --navbar-bg: #1e293b;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Hind Siliguri', sans-serif; }
        body { background-color: var(--bg-color); color: var(--text-dark); min-height: 100vh; padding-bottom: 40px; }

        /* --- Navbar --- */
        .navbar {
            background: var(--navbar-bg); padding: 15px 20px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-weight: 800; color: #fff; font-size: 1.2rem; letter-spacing: 1px; }
        .user-tag { background: var(--primary); color: white; padding: 6px 15px; border-radius: 50px; font-weight: bold; cursor: pointer; border: none; }

        /* --- Header --- */
        header { text-align: center; padding: 40px 20px; background: #cbd5e1; border-bottom: 2px solid #94a3b8; }
        .creator { color: var(--primary); font-weight: 700; font-size: 1.1rem; margin-bottom: 5px; display: block; }
        #clock { font-size: 3.2rem; font-weight: 800; color: var(--navbar-bg); margin-bottom: 15px; }

        .stats { display: flex; gap: 15px; justify-content: center; }
        .stat-item { background: #f1f5f9; padding: 12px 18px; border-radius: 15px; border: 1px solid #94a3b8; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .s-val { display: block; font-size: 1.3rem; font-weight: 800; color: var(--primary); }
        .s-lab { font-size: 11px; font-weight: 700; color: var(--text-muted); }

        .container { max-width: 650px; margin: auto; padding: 0 15px; }

        /* --- Progress Box --- */
        .progress-card { background: var(--card-bg); padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: -30px; }
        .bar-wrap { background: #e2e8f0; height: 14px; border-radius: 10px; overflow: hidden; margin-top: 10px; border: 1px solid #cbd5e1; }
        #bar-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary), var(--accent)); transition: 0.7s ease; }

        /* --- Navigation Controls --- */
        .controls { display: flex; justify-content: space-between; align-items: center; margin: 30px 0; }
        .btn { background: #cbd5e1; border: 1px solid #94a3b8; padding: 12px 20px; border-radius: 12px; font-weight: 700; color: var(--navbar-bg); cursor: pointer; transition: 0.3s; }
        .btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .btn:hover:not(:disabled) { background: var(--primary); color: white; border-color: var(--primary); }

        /* --- Task Cards --- */
        .task-card {
            background: var(--card-bg); padding: 20px; border-radius: 18px; margin-bottom: 15px;
            display: flex; gap: 15px; border: 1px solid #cbd5e1; cursor: pointer; transition: 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .task-card:hover { border-color: var(--primary); transform: translateY(-3px); }
        .task-card.done { border-color: var(--success); background: #ecfdf5; opacity: 0.9; }
        .task-card.done .sub-title { text-decoration: line-through; color: var(--text-muted); }

        .check-btn { width: 30px; height: 30px; border: 2.5px solid #94a3b8; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 4px; }
        .task-card.done .check-btn { background: var(--success); border-color: var(--success); color: white; }

        .sub-title { font-size: 1.25rem; font-weight: 800; display: block; color: var(--navbar-bg); }
        .sub-desc { font-size: 14px; color: var(--text-muted); margin-bottom: 10px; display: block; font-weight: 500; }

        /* --- Info Pills --- */
        .pills { display: flex; gap: 8px; flex-wrap: wrap; }
        .pill { background: #e0e7ff; padding: 4px 12px; border-radius: 8px; font-size: 12px; font-weight: 800; color: var(--primary); border: 1px solid #c7d2fe; }

        .lock-msg { background: #fee2e2; color: #991b1b; padding: 15px; border-radius: 15px; text-align: center; font-weight: 700; margin-bottom: 15px; display: none; border: 1px solid #fecaca; }

        /* --- User Modal --- */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: none; align-items: center; justify-content: center; z-index: 2000; backdrop-filter: blur(5px); }
        .modal-box { background: var(--card-bg); padding: 40px; border-radius: 30px; width: 92%; max-width: 420px; text-align: center; }
        input { width: 100%; padding: 15px; margin: 20px 0; border-radius: 15px; border: 2px solid #cbd5e1; font-size: 16px; outline: none; background: #fff; }
    </style>
</head>
<body onload="init()">

    <nav class="navbar">
        <div class="logo">MISSION 2027</div>
        <div class="user-tag" id="user-display" onclick="toggleModal(true)">যোদ্ধা</div>
    </nav>

    <header>
        <span class="creator">JIYAM VAIYA এর স্পেশাল রুটিন</span>
        <div id="clock">00:00:00</div>
        
        <div class="stats">
            <div class="stat-item"><span class="s-val" id="d-used">0</span><span class="s-lab">ব্যবহারের দিন</span></div>
            <div class="stat-item"><span class="s-val" id="d-left">0</span><span class="s-lab">বাকি (২০২৭)</span></div>
        </div>
    </header>

    <div class="container">
        <div class="progress-card">
            <div style="display: flex; justify-content: space-between; font-weight: 800; color: var(--navbar-bg);">
                <span>আজকের মিশন প্রগ্রেস</span>
                <span id="p-text">0%</span>
            </div>
            <div class="bar-wrap"><div id="bar-fill"></div></div>
        </div>

        <div class="controls">
            <button class="btn" onclick="changeDay(-1)">আগের দিন</button>
            <span id="view-date" style="font-weight: 800; color: var(--primary); font-size: 1.1rem;"></span>
            <button class="btn" id="next-btn" onclick="changeDay(1)">পরের দিন</button>
        </div>

        <div id="lock-msg" class="lock-msg">⚠️ আজকের টাস্ক ১০০% শেষ না করে কালকের মিশন লক থাকবে!</div>
        <div id="task-list"></div>
    </div>

    <div id="u-modal" class="modal">
        <div class="modal-box">
            <h2 style="color: var(--primary);">নতুন মিশনে স্বাগতম!</h2>
            <p style="color: var(--text-muted); margin-top: 10px;">মিশন শুরু করতে তোমার নামটি দাও</p>
            <input type="text" id="u-input" placeholder="তোমার নাম লিখো...">
            <button class="btn" style="width: 100%; background: var(--primary); color: white; border: none;" onclick="saveName()">শুরু করি</button>
        </div>
    </div>

    <script>
        let viewDate = new Date();
        const sci = ["পদার্থবিজ্ঞান", "রসায়ন", "উচ্চতর গণিত", "জীববিজ্ঞান", "গণিত"];
        const hum = ["পৌরনীতি", "ইতিহাস", "ভূগোল", "অর্থনীতি", "কৃষি"];
        const common = ["ইংরেজি ১ম", "ইংরেজি ২য়", "বাংলা ১ম", "বাংলা ২য়", "আইসিটি"];

        function getRoutine(date) {
            const s = date.getDate() + date.getMonth();
            return [
                { t: "০৬:৩০ AM", s: `${sci[s % 5]} / ${hum[s % 5]}`, d: "অধ্যায় ভিত্তিক CQ এবং থিওরি পড়া", cq: 4, mcq: 50, sq: 15 },
                { t: "০৯:৩০ AM", s: common[s % 5], d: "মূল বই থেকে গুরুত্বপূর্ণ লাইনগুলো পড়া", cq: 2, mcq: 60, sq: 20 },
                { t: "১১:৩০ AM", s: "গণিত প্র্যাকটিস", d: "টাইপ অনুযায়ী ৫টি করে অংক সমাধান", cq: 3, mcq: 50, sq: 10 },
                { t: "০৩:৩০ PM", s: `${sci[(s+1)%5]} / ${hum[(s+1)%5]}`, d: "শর্ট নোট তৈরি ও বিগত বোর্ড প্রশ্ন দেখা", cq: 3, mcq: 50, sq: 15 },
                { t: "০৭:০০ PM", s: "ইংরেজি ২য় পত্র", d: "Grammar: Board Questions & Rules", cq: 0, mcq: 0, sq: 30, special: "Grammar: 10 Item" },
                { t: "০৯:৩০ PM", s: common[(s+2)%5], d: "টেস্ট পেপার থেকে এমসিকিউ সলভ", cq: 0, mcq: 60, sq: 25 },
                { t: "১০:৪৫ PM", s: "সারাদিনের রিভিশন", d: "সবগুলো পড়া এক নজরে চোখ বুলানো", cq: 0, mcq: 20, sq: 10 }
            ];
        }

        function render() {
            const routine = getRoutine(viewDate);
            const key = "v5_tasks_" + viewDate.toDateString();
            const done = JSON.parse(localStorage.getItem(key)) || [];
            
            document.getElementById('view-date').innerText = viewDate.toLocaleDateString('bn-BD', {day:'numeric', month:'long'});
            
            let html = "";
            routine.forEach((item, i) => {
                const isDone = done.includes(i);
                html += `
                    <div class="task-card ${isDone ? 'done' : ''}" onclick="toggle(${i})">
                        <div class="check-btn">${isDone ? '<i class="fas fa-check"></i>' : ''}</div>
                        <div style="flex:1">
                            <span style="font-size: 11px; color: var(--primary); font-weight: 800;">${item.t}</span>
                            <span class="sub-title">${item.s}</span>
                            <span class="sub-desc">${item.d}</span>
                            <div class="pills">
                                ${item.cq > 0 ? `<span class="pill">CQ: ${item.cq}টি</span>` : ''}
                                ${item.mcq > 0 ? `<span class="pill">MCQ: ${item.mcq}টি</span>` : ''}
                                ${item.sq > 0 ? `<span class="pill">SQ: ${item.sq}টি</span>` : ''}
                                ${item.special ? `<span class="pill">${item.special}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            });
            document.getElementById('task-list').innerHTML = html;

            const progress = Math.round((done.length / routine.length) * 100);
            document.getElementById('bar-fill').style.width = progress + "%";
            document.getElementById('p-text').innerText = progress + "%";

            const nextBtn = document.getElementById('next-btn');
            const lockMsg = document.getElementById('lock-msg');
            if (progress < 100) { nextBtn.disabled = true; lockMsg.style.display = 'block'; } 
            else { nextBtn.disabled = false; lockMsg.style.display = 'none'; }
        }

        function toggle(i) {
            const key = "v5_tasks_" + viewDate.toDateString();
            let list = JSON.parse(localStorage.getItem(key)) || [];
            if(list.includes(i)) list = list.filter(x => x !== i);
            else list.push(i);
            localStorage.setItem(key, JSON.stringify(list));
            render();
        }

        function changeDay(v) { viewDate.setDate(viewDate.getDate() + v); render(); }
        function toggleModal(show) { document.getElementById('u-modal').style.display = show ? 'flex' : 'none'; }

        function saveName() {
            const n = document.getElementById('u-input').value;
            if(n) {
                localStorage.setItem('ssc_u_v5', n);
                localStorage.setItem('ssc_s_v5', new Date().toISOString());
                document.getElementById('user-display').innerText = n;
                toggleModal(false);
                location.reload();
            }
        }

        function init() {
            const name = localStorage.getItem('ssc_u_v5');
            if(!name) toggleModal(true);
            else {
                document.getElementById('user-display').innerText = name;
                const diff = Math.floor((new Date() - new Date(localStorage.getItem('ssc_s_v5'))) / (1000*60*60*24)) + 1;
                document.getElementById('d-used').innerText = diff;
                const rem = Math.floor((new Date("2027-02-01") - new Date()) / (1000*60*60*24));
                document.getElementById('d-left').innerText = rem > 0 ? rem : 0;
            }
            setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString('bn-BD'); }, 1000);
            render();
        }
    </script>
</body>
</html>
